<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pre-Anesthesia Checklist (PAC)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f0f0f0;
    }
    h2 {
      background-color: #004080;
      color: white;
      padding: 10px;
      border-radius: 5px;
    }
    .section {
      background: #fff;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    textarea, input, select {
      width: 100%;
      padding: 6px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .checkbox-group {
      margin-left: 20px;
    }
    .btn {
      background-color: #004080;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>Pre-Anesthesia Checklist (PAC)</h2>

  <form id="pacForm">
    
    <div class="section">
      <h3>Medical History</h3>
      <label>Past surgeries and anesthesia history</label>
      <select><option>Choose an item...</option><option>No issues</option><option>Complications</option></select>
      <label>Remarks:</label>
      <textarea></textarea>

      <label>Allergies</label>
      <select><option>Choose an item...</option><option>None</option><option>Yes</option></select>
      <label>Remarks:</label>
      <textarea></textarea>

      <label>Current Medications</label>
      <textarea></textarea>

      <label>Chronic Illnesses:</label>
      <div class="checkbox-group">
        <label><input type="checkbox"> Hypertension</label>
        <label><input type="checkbox"> Diabetes</label>
        <label><input type="checkbox"> Asthma / COPD</label>
        <label><input type="checkbox"> Heart disease</label>
        <label><input type="checkbox"> Kidney disease</label>
        <label><input type="checkbox"> Others: <input type="text" style="width: 50%;"></label>
      </div>
    </div>

    <div class="section">
      <h3>Physical Examination</h3>
      <label>Airway assessment</label><textarea></textarea>
      <label>Vital signs</label><textarea></textarea>
      <label>Weight / Height / BMI</label><textarea></textarea>
      <label>Systemic Exam</label>
      <div class="checkbox-group">
        <label><input type="checkbox"> Cardiovascular</label>
        <label><input type="checkbox"> Respiratory</label>
        <label><input type="checkbox"> CNS if needed</label>
      </div>
    </div>

    <div class="section">
      <h3>Investigations</h3>
      <div class="checkbox-group">
        <label><input type="checkbox"> Hemoglobin / CBC</label>
        <label><input type="checkbox"> Blood sugar</label>
        <label><input type="checkbox"> Renal function tests</label>
        <label><input type="checkbox"> ECG (if >40 years or cardiac history)</label>
        <label><input type="checkbox"> Chest X-ray (if indicated)</label>
        <label><input type="checkbox"> Others: <input type="text" style="width: 50%;"></label>
      </div>
    </div>

    <div class="section">
      <h3>ASA Classification</h3>
      <div class="checkbox-group">
        <label><input type="radio" name="asa"> ASA I – Healthy</label>
        <label><input type="radio" name="asa"> ASA II – Mild systemic disease</label>
        <label><input type="radio" name="asa"> ASA III – Severe systemic disease</label>
        <label><input type="radio" name="asa"> ASA IV – Life-threatening disease</label>
        <label><input type="radio" name="asa"> ASA V – Moribund patient</label>
      </div>
    </div>

    <div class="section">
      <h3>Fasting Status</h3>
      <label>Last oral intake</label><textarea></textarea>
      <label>Fasting confirmed?</label><textarea></textarea>
    </div>

    <div class="section">
      <h3>Consent & Planning</h3>
      <div class="checkbox-group">
        <label><input type="checkbox"> Discussed type of anesthesia</label>
        <label><input type="checkbox"> Risks explained and consent taken</label>
        <label><input type="checkbox"> Premedication plan written</label>
        <label><input type="checkbox"> Special concerns</label>
      </div>
    </div>

    <div class="section">
      <h3>Fit for Anesthesia?</h3>
      <div class="checkbox-group">
        <label><input type="radio" name="fit"> Yes – Proceed</label>
        <label><input type="radio" name="fit"> No – Needs further optimization</label>
        <label>Reason (if not fit):</label><textarea></textarea>
      </div>
      <label>Anesthesiologist Name & Signature:</label>
      <input type="text">
      <label>Date & Time:</label>
      <input type="datetime-local">
    </div>

    <div class="section">
      <h3>Airway Management Checklist</h3>
      <label>Airway Assessment</label>
      <div class="checkbox-group">
        <label><input type="checkbox"> Mouth opening > 3 cm</label>
        <label><input type="checkbox"> Mallampati score I / II / III / IV</label>
        <label><input type="checkbox"> Thyromental distance > 6 cm</label>
        <label><input type="checkbox"> Neck movement normal</label>
        <label><input type="checkbox"> No facial trauma/swelling</label>
        <label><input type="checkbox"> Dentition checked</label>
        <label><input type="checkbox"> History of difficult intubation</label>
      </div>
      <label>Equipment Check</label>
      <div class="checkbox-group">
        <label><input type="checkbox"> Oxygen source and suction ready</label>
        <label><input type="checkbox"> Bag-valve-mask working</label>
        <label><input type="checkbox"> Airway adjuncts (OPA/NPA) ready</label>
        <label><input type="checkbox"> Laryngoscope functional</label>
        <label><input type="checkbox"> ETT correct size and cuff tested</label>
        <label><input type="checkbox"> Stylet / Bougie available</label>
        <label><input type="checkbox"> Supraglottic airway ready</label>
        <label><input type="checkbox"> Emergency airway kit ready</label>
      </div>
      <label>Airway Plan (if difficult airway anticipated)</label>
      <textarea placeholder="Primary plan"></textarea>
      <textarea placeholder="Backup plan"></textarea>
      <div class="checkbox-group">
        <label><input type="checkbox"> Senior anesthesiologist notified</label>
        <label><input type="checkbox"> Difficult airway cart available</label>
      </div>
    </div>

    <button type="button" class="btn" onclick="generatePDF()">Download as PDF</button>

  </form>

  <script>
async function generatePDF() {
  const form = document.getElementById("pacForm");
  
  // Use html2canvas to take screenshot of form
  const canvas = await html2canvas(form, { scale: 2 });
  const imageData = canvas.toDataURL("image/png");

  // Create jsPDF instance
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF("p", "mm", "a4");
  
  const imgProps = pdf.getImageProperties(imageData);
  const pdfWidth = pdf.internal.pageSize.getWidth();
  const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;

  pdf.addImage(imageData, "PNG", 0, 0, pdfWidth, pdfHeight);
  pdf.save("pre-anesthesia-checklist.pdf");
}

  </script>

</body>
</html>
